{"ast":null,"code":"var _jsxFileName = \"D:\\\\Online Store\\\\client\\\\src\\\\components\\\\shop\\\\shop\\\\shop.js\";\n// src/shop/Shop.jsx\nimport React, { Fragment, useReducer, useState, useEffect } from \"react\";\nimport Layout from \"../layout\";\nimport { homeReducer, homeState } from \"../home/HomeContext\";\nimport { HomeContext } from \"../home/index\";\nimport { getAllProduct } from \"../home/fetchApi\";\nimport ProductCard from \"./ProductCard\"; // Make sure this has hover effect\nimport Loader from \"./Loader\";\nconst ITEMS_PER_PAGE = 12;\nconst Shop = () => {\n  const [data, dispatch] = useReducer(homeReducer, homeState);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [products, setProducts] = useState([]);\n  const indexOfLastItem = currentPage * ITEMS_PER_PAGE;\n  const indexOfFirstItem = indexOfLastItem - ITEMS_PER_PAGE;\n  const currentItems = products.slice(indexOfFirstItem, indexOfLastItem);\n  const totalPages = Math.ceil(products.length / ITEMS_PER_PAGE);\n  useEffect(() => {\n    fetchProducts();\n    // eslint-disable-next-line\n  }, []);\n  const fetchProducts = async () => {\n    dispatch({\n      type: \"loading\",\n      payload: true\n    });\n    try {\n      const res = await getAllProduct();\n      if (res === null || res === void 0 ? void 0 : res.Products) {\n        dispatch({\n          type: \"setProducts\",\n          payload: res.Products\n        });\n        setProducts(res.Products);\n      }\n    } catch (err) {\n      console.error(err);\n    } finally {\n      dispatch({\n        type: \"loading\",\n        payload: false\n      });\n    }\n  };\n  const nextPage = () => {\n    if (currentPage < totalPages) setCurrentPage(currentPage + 1);\n  };\n  const prevPage = () => {\n    if (currentPage > 1) setCurrentPage(currentPage - 1);\n  };\n  return /*#__PURE__*/React.createElement(HomeContext.Provider, {\n    value: {\n      data,\n      dispatch\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"px-4 sm:px-6 lg:px-8 max-w-screen-xl mx-auto pt-24\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-4xl font-extrabold text-center text-gray-800 mb-12 tracking-wide\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, \"Explore Our Fragrances\"), data.loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-center py-20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  })) : currentItems.length > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }, currentItems.map(product => /*#__PURE__*/React.createElement(ProductCard, {\n    key: product._id,\n    item: product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-center mt-12 space-x-4 items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: prevPage,\n    disabled: currentPage === 1,\n    className: `px-5 py-2 rounded-lg border text-gray-600 hover:bg-gray-100 transition ${currentPage === 1 ? \"opacity-50 cursor-not-allowed\" : \"\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, \"\\u2B05 Prev\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-gray-700 font-medium text-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, \"Page \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 24\n    }\n  }, currentPage), \" of \", totalPages), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: nextPage,\n    disabled: currentPage === totalPages,\n    className: `px-5 py-2 rounded-lg border text-gray-600 hover:bg-gray-100 transition ${currentPage === totalPages ? \"opacity-50 cursor-not-allowed\" : \"\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, \"Next \\u27A1\"))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center text-xl text-gray-500 py-20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"No products found.\"))));\n};\nexport default Shop;","map":{"version":3,"names":["React","Fragment","useReducer","useState","useEffect","Layout","homeReducer","homeState","HomeContext","getAllProduct","ProductCard","Loader","ITEMS_PER_PAGE","Shop","data","dispatch","currentPage","setCurrentPage","products","setProducts","indexOfLastItem","indexOfFirstItem","currentItems","slice","totalPages","Math","ceil","length","fetchProducts","type","payload","res","Products","err","console","error","nextPage","prevPage","createElement","Provider","value","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","loading","map","product","key","_id","item","onClick","disabled"],"sources":["D:/Online Store/client/src/components/shop/shop/shop.js"],"sourcesContent":["// src/shop/Shop.jsx\r\nimport React, { Fragment, useReducer, useState, useEffect } from \"react\";\r\nimport Layout from \"../layout\";\r\nimport { homeReducer, homeState } from \"../home/HomeContext\";\r\nimport { HomeContext } from \"../home/index\";\r\nimport { getAllProduct } from \"../home/fetchApi\";\r\nimport ProductCard from \"./ProductCard\"; // Make sure this has hover effect\r\nimport Loader from \"./Loader\";\r\n\r\nconst ITEMS_PER_PAGE = 12;\r\n\r\nconst Shop = () => {\r\n  const [data, dispatch] = useReducer(homeReducer, homeState);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [products, setProducts] = useState([]);\r\n\r\n  const indexOfLastItem = currentPage * ITEMS_PER_PAGE;\r\n  const indexOfFirstItem = indexOfLastItem - ITEMS_PER_PAGE;\r\n  const currentItems = products.slice(indexOfFirstItem, indexOfLastItem);\r\n  const totalPages = Math.ceil(products.length / ITEMS_PER_PAGE);\r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const fetchProducts = async () => {\r\n    dispatch({ type: \"loading\", payload: true });\r\n    try {\r\n      const res = await getAllProduct();\r\n      if (res?.Products) {\r\n        dispatch({ type: \"setProducts\", payload: res.Products });\r\n        setProducts(res.Products);\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n    } finally {\r\n      dispatch({ type: \"loading\", payload: false });\r\n    }\r\n  };\r\n\r\n  const nextPage = () => {\r\n    if (currentPage < totalPages) setCurrentPage(currentPage + 1);\r\n  };\r\n\r\n  const prevPage = () => {\r\n    if (currentPage > 1) setCurrentPage(currentPage - 1);\r\n  };\r\n\r\n  return (\r\n    <HomeContext.Provider value={{ data, dispatch }}>\r\n      <Layout>\r\n        <div className=\"px-4 sm:px-6 lg:px-8 max-w-screen-xl mx-auto pt-24\">\r\n          <h1 className=\"text-4xl font-extrabold text-center text-gray-800 mb-12 tracking-wide\">\r\n            Explore Our Fragrances\r\n          </h1>\r\n\r\n          {data.loading ? (\r\n            <div className=\"flex justify-center py-20\">\r\n              <Loader />\r\n            </div>\r\n          ) : currentItems.length > 0 ? (\r\n            <>\r\n              <div className=\"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8\">\r\n                {currentItems.map((product) => (\r\n                  <ProductCard key={product._id} item={product} />\r\n                ))}\r\n              </div>\r\n\r\n              {/* Pagination */}\r\n              <div className=\"flex justify-center mt-12 space-x-4 items-center\">\r\n                <button\r\n                  onClick={prevPage}\r\n                  disabled={currentPage === 1}\r\n                  className={`px-5 py-2 rounded-lg border text-gray-600 hover:bg-gray-100 transition ${\r\n                    currentPage === 1 ? \"opacity-50 cursor-not-allowed\" : \"\"\r\n                  }`}\r\n                >\r\n                  ⬅ Prev\r\n                </button>\r\n                <span className=\"text-gray-700 font-medium text-lg\">\r\n                  Page <span className=\"font-bold\">{currentPage}</span> of {totalPages}\r\n                </span>\r\n                <button\r\n                  onClick={nextPage}\r\n                  disabled={currentPage === totalPages}\r\n                  className={`px-5 py-2 rounded-lg border text-gray-600 hover:bg-gray-100 transition ${\r\n                    currentPage === totalPages ? \"opacity-50 cursor-not-allowed\" : \"\"\r\n                  }`}\r\n                >\r\n                  Next ➡\r\n                </button>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <div className=\"text-center text-xl text-gray-500 py-20\">\r\n              No products found.\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Layout>\r\n    </HomeContext.Provider>\r\n  );\r\n};\r\n\r\nexport default Shop;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}