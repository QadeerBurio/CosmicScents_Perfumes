{"ast":null,"code":"import axios from \"axios\";\n\n// âœ… Check if user is logged in\nexport const isAuthenticate = () => localStorage.getItem(\"jwt\") ? JSON.parse(localStorage.getItem(\"jwt\")) : false;\n\n// âœ… User login request\nexport const loginReq = async ({\n  email,\n  password\n}) => {\n  const data = {\n    email,\n    password\n  };\n  try {\n    const res = await axios.post(\"http://localhost:8000/api/signin\", data);\n    if (res.data.token) {\n      localStorage.setItem(\"jwt\", JSON.stringify(res.data));\n    }\n    return res.data;\n  } catch (error) {\n    var _error$response;\n    console.log(\"Login error:\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n    return {\n      error: \"Login failed. Please try again.\"\n    };\n  }\n};\n\n// âœ… Signup request (always user signup)\nexport const signupReq = async ({\n  name,\n  email,\n  password,\n  cPassword\n}) => {\n  const data = {\n    name,\n    email,\n    password,\n    cPassword,\n    userRole: 0 // ðŸ‘ˆ ensure backend sees this as user\n  };\n  try {\n    const res = await axios.post(\"http://localhost:8000/api/signup\", data);\n    return res.data;\n  } catch (error) {\n    var _error$response2;\n    console.log(\"Signup error:\", ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || error.message);\n    return {\n      error: \"Something went wrong while signing up.\"\n    };\n  }\n};\n\n// âœ… Logout\nexport const logout = () => {\n  localStorage.removeItem(\"jwt\");\n};","map":{"version":3,"names":["axios","isAuthenticate","localStorage","getItem","JSON","parse","loginReq","email","password","data","res","post","token","setItem","stringify","error","_error$response","console","log","response","message","signupReq","name","cPassword","userRole","_error$response2","logout","removeItem"],"sources":["D:/Online Store/client/src/components/shop/auth/fetchApi.js"],"sourcesContent":["import axios from \"axios\";\n\n// âœ… Check if user is logged in\nexport const isAuthenticate = () =>\n  localStorage.getItem(\"jwt\")\n    ? JSON.parse(localStorage.getItem(\"jwt\"))\n    : false;\n\n// âœ… User login request\nexport const loginReq = async ({ email, password }) => {\n  const data = { email, password };\n  try {\n    const res = await axios.post(\"http://localhost:8000/api/signin\", data);\n    if (res.data.token) {\n      localStorage.setItem(\"jwt\", JSON.stringify(res.data));\n    }\n    return res.data;\n  } catch (error) {\n    console.log(\"Login error:\", error.response?.data || error.message);\n    return { error: \"Login failed. Please try again.\" };\n  }\n};\n\n// âœ… Signup request (always user signup)\nexport const signupReq = async ({ name, email, password, cPassword }) => {\n  const data = {\n    name,\n    email,\n    password,\n    cPassword,\n    userRole: 0, // ðŸ‘ˆ ensure backend sees this as user\n  };\n  try {\n    const res = await axios.post(\"http://localhost:8000/api/signup\", data);\n    return res.data;\n  } catch (error) {\n    console.log(\"Signup error:\", error.response?.data || error.message);\n    return { error: \"Something went wrong while signing up.\" };\n  }\n};\n\n// âœ… Logout\nexport const logout = () => {\n  localStorage.removeItem(\"jwt\");\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,OAAO,MAAMC,cAAc,GAAGA,CAAA,KAC5BC,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC,GACvBC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC,CAAC,GACvC,KAAK;;AAEX;AACA,OAAO,MAAMG,QAAQ,GAAG,MAAAA,CAAO;EAAEC,KAAK;EAAEC;AAAS,CAAC,KAAK;EACrD,MAAMC,IAAI,GAAG;IAAEF,KAAK;IAAEC;EAAS,CAAC;EAChC,IAAI;IACF,MAAME,GAAG,GAAG,MAAMV,KAAK,CAACW,IAAI,CAAC,kCAAkC,EAAEF,IAAI,CAAC;IACtE,IAAIC,GAAG,CAACD,IAAI,CAACG,KAAK,EAAE;MAClBV,YAAY,CAACW,OAAO,CAAC,KAAK,EAAET,IAAI,CAACU,SAAS,CAACJ,GAAG,CAACD,IAAI,CAAC,CAAC;IACvD;IACA,OAAOC,GAAG,CAACD,IAAI;EACjB,CAAC,CAAC,OAAOM,KAAK,EAAE;IAAA,IAAAC,eAAA;IACdC,OAAO,CAACC,GAAG,CAAC,cAAc,EAAE,EAAAF,eAAA,GAAAD,KAAK,CAACI,QAAQ,cAAAH,eAAA,uBAAdA,eAAA,CAAgBP,IAAI,KAAIM,KAAK,CAACK,OAAO,CAAC;IAClE,OAAO;MAAEL,KAAK,EAAE;IAAkC,CAAC;EACrD;AACF,CAAC;;AAED;AACA,OAAO,MAAMM,SAAS,GAAG,MAAAA,CAAO;EAAEC,IAAI;EAAEf,KAAK;EAAEC,QAAQ;EAAEe;AAAU,CAAC,KAAK;EACvE,MAAMd,IAAI,GAAG;IACXa,IAAI;IACJf,KAAK;IACLC,QAAQ;IACRe,SAAS;IACTC,QAAQ,EAAE,CAAC,CAAE;EACf,CAAC;EACD,IAAI;IACF,MAAMd,GAAG,GAAG,MAAMV,KAAK,CAACW,IAAI,CAAC,kCAAkC,EAAEF,IAAI,CAAC;IACtE,OAAOC,GAAG,CAACD,IAAI;EACjB,CAAC,CAAC,OAAOM,KAAK,EAAE;IAAA,IAAAU,gBAAA;IACdR,OAAO,CAACC,GAAG,CAAC,eAAe,EAAE,EAAAO,gBAAA,GAAAV,KAAK,CAACI,QAAQ,cAAAM,gBAAA,uBAAdA,gBAAA,CAAgBhB,IAAI,KAAIM,KAAK,CAACK,OAAO,CAAC;IACnE,OAAO;MAAEL,KAAK,EAAE;IAAyC,CAAC;EAC5D;AACF,CAAC;;AAED;AACA,OAAO,MAAMW,MAAM,GAAGA,CAAA,KAAM;EAC1BxB,YAAY,CAACyB,UAAU,CAAC,KAAK,CAAC;AAChC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}